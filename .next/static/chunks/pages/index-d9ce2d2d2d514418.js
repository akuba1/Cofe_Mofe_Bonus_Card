(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1681:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(7876),r=n(4232);function a(){let[t,e]=(0,r.useState)(""),[n,a]=(0,r.useState)("");async function s(e){if(e.preventDefault(),!t.trim())return void a("Введите clientId");a("⏳ Обработка...");try{let e=await fetch("/api/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:t.trim()})}),n=await e.json();e.ok?a("\n\uD83D\uDECD️ Покупок: ".concat(n.purchases,"\n\uD83C\uDFAF До бонуса: ").concat(n.remaining,"\n").concat(n.bonus?"\uD83C\uDF89 Бонус выдан!":"","\n        ")):a("Ошибка: ".concat(n.error))}catch(t){console.error(t),a("Сервер недоступен")}}return(0,i.jsxs)("div",{style:o.container,children:[(0,i.jsx)("h1",{children:"☕️ Кофейная бонусная карта"}),(0,i.jsxs)("form",{onSubmit:s,style:o.form,children:[(0,i.jsx)("input",{type:"text",placeholder:"Введите clientId",value:t,onChange:t=>e(t.target.value),style:o.input,required:!0}),(0,i.jsx)("button",{type:"submit",style:o.button,children:"Записать покупку"})]}),(0,i.jsx)("pre",{style:o.result,children:n})]})}let o={container:{fontFamily:"sans-serif",padding:40,background:"#f8f8f8",height:"100vh"},form:{marginBottom:20},input:{padding:8,fontSize:16,width:300},button:{padding:"8px 16px",fontSize:16,marginLeft:10},result:{fontSize:18,whiteSpace:"pre-wrap"}}},2936:(t,e,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1681)}])}},t=>{t.O(0,[636,593,792],()=>t(t.s=2936)),_N_E=t.O()}]);